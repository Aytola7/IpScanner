# ุชุบุฑุงุช ูุณุฎู ุฌุฏุฏ - Smart IP Sampling

## ๐ ุชุบุฑุงุช ุงุนูุงู ุดุฏู

### ุฑูุชุงุฑ ุฌุฏุฏ ูููููโฺฏุฑ (Intelligent Sampling)

ูุจูุงู ุจุฑูุงูู ุงุฒ ุดูุง ูโูพุฑุณุฏ ฺู ุฏุฑุตุฏ ุงุฒ IP ูุง ุฑุง ุชุณุช ฺฉูุฏุ ู ุงู ุฏุฑุตุฏ ุจุฑุง **ููู** IP ูุง (ุญุช single IP ูุง) ุงุนูุงู ูโุดุฏ. ุญุงูุง ุจุฑูุงูู **ููุดููุฏุชุฑ** ุนูู ูโฺฉูุฏ:

#### โ ุฑูุชุงุฑ ุฌุฏุฏ:

1. **Single IP ูุง**: ููุดู **100% ุชุณุช ูโุดููุฏ** (ุจุฏูู ูููููโฺฏุฑ)
2. **CIDR ู Range ูุง**: ุฏุฑุตุฏ ุฏูุฎูุงู ุดูุง ุงุนูุงู ูโุดูุฏ
3. **ุชุดุฎุต ุฎูุฏฺฉุงุฑ**: ุจุฑูุงูู ุฎูุฏุด ุชุดุฎุต ูโุฏูุฏ ฺฉุฏุงู ููุน IP ุงุณุช

### ๐ฏ ูุซุงูโูุง

#### ูุซุงู 1: ููุท Single IP

**ูุงู ูุฑูุฏ:**
```text
8.8.8.8
1.1.1.1
9.9.9.9
4.2.2.4
```

**ุฎุฑูุฌ ุจุฑูุงูู:**
```
All single IPs will be tested (no sampling for individual IPs)
Total IPs to scan: 4
```

โ ููู 4 IP ุชุณุช ูโุดููุฏ ุจุฏูู ุงูฺฉู ุณูุงู ุฏุฑุตุฏ ูพุฑุณุฏู ุดูุฏ.

---

#### ูุซุงู 2: ุชุฑฺฉุจ Single IP ู Range

**ูุงู ูุฑูุฏ:**
```text
# Single IPs
8.8.8.8
1.1.1.1

# CIDR range
10.0.0.0/24

# IP Range
192.168.1.1-192.168.1.100
```

**ุฎุฑูุฌ ุจุฑูุงูู:**
```
What percent of IPs to test? (0-100) [100]: 10
Processing group: 8.8.8.8
Processing group: 1.1.1.1
Processing group: 10.0.0.0/24 (sample 10%)
Processing group: 192.168.1.1-192.168.1.100 (sample 10%)
```

โ Single IP ูุง (8.8.8.8 ู 1.1.1.1) โ 100% ุชุณุช ูโุดููุฏ
โ CIDR (10.0.0.0/24) โ 10% ุงุฒ IP ูุง ูููููโฺฏุฑ ูโุดูุฏ (~25 IP ุงุฒ 254)
โ Range (192.168.1.1-100) โ 10% ูููููโฺฏุฑ ูโุดูุฏ (~10 IP ุงุฒ 100)

---

#### ูุซุงู 3: ููุท Range ู CIDR

**ูุงู ูุฑูุฏ:**
```text
192.168.1.0/24
10.0.0.1-10.0.0.254
```

**ุฎุฑูุฌ ุจุฑูุงูู:**
```
What percent of IPs to test? (0-100) [100]: 50
Processing group: 192.168.1.0/24 (sample 50%)
Processing group: 10.0.0.1-10.0.0.254 (sample 50%)
```

โ ุงุฒ ูุฑ ุฏู ฺฏุฑูู 50% ูููููโฺฏุฑ ูโุดูุฏ

## ๐ ููุทู ุชุดุฎุต

### Single IP:
- ุฎุท ุดุงูู `/` ุง `-` ูุจุงุดุฏ
- ุจุชูุงูุฏ ุจู ุนููุงู IPv4 ูุนุชุจุฑ parse ุดูุฏ
- ูุซุงู: `8.8.8.8`, `192.168.1.1`

### CIDR Notation:
- ุดุงูู `/` ุจุงุดุฏ
- ูุซุงู: `192.168.1.0/24`, `10.0.0.0/16`

### IP Range:
- ุดุงูู `-` ุจุงุดุฏ
- ูุซุงู: `192.168.1.1-192.168.1.254`

## ๐ก ฺุฑุง ุงู ุชุบุฑุ

### ูุดฺฉู ูุจู:
ฺฉุงุฑุจุฑ ูุณุช ุฏูู IP ูุง ฺฉู ูโุฎูุงูุฏ ุชุณุช ฺฉูุฏ (ูุซูุงู 10 ุชุง ุณุฑูุฑ ุฎุงุต) ุฑุง ูโฺฏุฐุงุดุชุ ูู ุจุฑูุงูู ูโูพุฑุณุฏ "ฺูุฏ ุฏุฑุตุฏุ" ู ููฺฉู ุจูุฏ ููุท ุจุฎุด ุงุฒ ุขูโูุง ุฑุง ุชุณุช ฺฉูุฏ!

### ุฑุงูโุญู ุฌุฏุฏ:
- ุงฺฏุฑ ฺฉุงุฑุจุฑ **ูุณุช ูุดุฎุต** IP ูุง ุฑุง ุฏุงุฏ โ ููู ุชุณุช ูโุดููุฏ
- ุงฺฏุฑ ฺฉุงุฑุจุฑ **ุฑูุฌ ุจุฒุฑฺฏ** ุฏุงุฏ โ ูโุชูุงูุฏ ูููููโฺฏุฑ ฺฉูุฏ

## ๐ ูุงูโูุง ุชุณุช

ุฏู ูุงู ุชุณุช ุงุฌุงุฏ ุดุฏู:

### 1. `test_single_only.txt`
ููุท single IP ูุง - ุจุฏูู ุณูุงู ุฏุฑุตุฏ

### 2. `test_mixed_ips.txt`
ุชุฑฺฉุจ single IP + CIDR + Range - ุจุง ุณูุงู ุฏุฑุตุฏ (ููุท ุจุฑุง CIDR/Range)

## ๐งช ุชุณุช ฺฉุฑุฏู

### Python:
```bash
# ุชุณุช ุจุง ููุท single IP
python runer.py --workers 5 --concurrency 5
# ููุช ูพุฑุณุฏ ูุงู IP ุฑุง ุจฺฏุฐุงุฑุฏ: test_single_only.txt

# ุชุณุช ุจุง ุชุฑฺฉุจ
python runer.py --workers 5 --concurrency 5
# ูุงู: test_mixed_ips.txt
```

### Rust:
```bash
# ุชุณุช ุจุง ููุท single IP
cargo run --release -- --ip-file test_single_only.txt --workers 5 --concurrency 5

# ุชุณุช ุจุง ุชุฑฺฉุจ
cargo run --release -- --ip-file test_mixed_ips.txt --workers 5 --concurrency 5
```

## ๐ ููุงุณู ุฑูุชุงุฑ

| ุณูุงุฑู | ูุจู | ุจุนุฏ |
|--------|-----|-----|
| 5 single IP | ุณูุงู ุฏุฑุตุฏ + ุงุญุชูุงู sampling | ููู ุชุณุช ูโุดููุฏุ ุจุฏูู ุณูุงู |
| 1 CIDR (/24) | ุณูุงู ุฏุฑุตุฏ | ุณูุงู ุฏุฑุตุฏ |
| 3 single IP + 1 CIDR | ุณูุงู ุฏุฑุตุฏ ุจุฑุง ููู | ุณูุงู ุฏุฑุตุฏ ููุท ุจุฑุง CIDRุ single ูุง 100% |

## โ ุชุบุฑุงุช ุฏุฑ ฺฉุฏ

### Python (`worker/createip.py`):
- ุงุถุงูู ุดุฏู ุชุดุฎุต `has_ranges`
- ุดุฑุท ุจุฑุง ูพุฑุณุฏู ุฏุฑุตุฏ ููุท ููุช Range/CIDR ูุฌูุฏ ุฏุงุฑุฏ
- ุญูุธ label ูุชูุงูุช ุจุฑุง single IP ูุง

### Rust (`src/ip_creator.rs`):
- ุงุถุงูู ุดุฏู ููุฏ `is_single` ุจู struct `IpGroup`
- ุชุงุจุน `is_single_ip_line()` ุจุฑุง ุชุดุฎุต
- ููุทู sampling ูุดุฑูุท ุจุฑ ุงุณุงุณ ููุน IP

## ๐ ูุชุฌู

ุญุงูุง ุจุฑูุงูู **ุฏููุงู ููุงูโุทูุฑ ฺฉู ฺฉุงุฑุจุฑ ุงูุชุธุงุฑ ุฏุงุฑุฏ** ุฑูุชุงุฑ ูโฺฉูุฏ:
- ูุณุช ุฎุงุต โ ููู ุชุณุช ูโุดููุฏ
- ุฑูุฌ ุจุฒุฑฺฏ โ ฺฏุฒูู ูููููโฺฏุฑ

ุงู ุชุบุฑ ุจุงุนุซ ูโุดูุฏ ุจุฑูุงูู ฺฉุงุฑุจุฑูพุณูุฏุชุฑ ู ููุทูโุชุฑ ุจุงุดุฏ! ๐
