# IP Scanner - Python Version

ฺฉ IP Scanner ูุฏุฑุชููุฏ ุจุง ูุนูุงุฑ worker pool ู ูพุดุชุจุงู ุงุฒ async/await ุจุฑุง ุงุณฺฉู ููุฒูุงู ูุฒุงุฑุงู IP.

## ๐ ููุฑุณุช

- [ูฺฺฏโูุง](#ูฺฺฏูุง)
- [ูุตุจ ู ุฑุงูโุงูุฏุงุฒ](#ูุตุจ-ู-ุฑุงูุงูุฏุงุฒ)
- [ุงุณุชูุงุฏู](#ุงุณุชูุงุฏู)
- [ุณุงุฎุชุงุฑ ูพุฑูฺู](#ุณุงุฎุชุงุฑ-ูพุฑูฺู)
- [ูพฺฉุฑุจูุฏ](#ูพฺฉุฑุจูุฏ)
- [ุฎุฑูุฌ](#ุฎุฑูุฌ)

## โจ ูฺฺฏโูุง

- โ ุงุณฺฉู ููุฒูุงู ุจุง ุงุณุชูุงุฏู ุงุฒ worker pool
- โ ุชุณุช ุฏุณุชุฑุณ IP ุจุง ping
- โ ุชุณุช ุจุงุฒ ุจูุฏู ูพูุฑุชโูุง ูุฎุชูู ุจุง socket connection
- โ ูพุดุชุจุงู ุงุฒ CIDR notation (ูุซู `192.168.1.0/24`)
- โ ูพุดุชุจุงู ุงุฒ IP range (ูุซู `192.168.1.1-192.168.1.254`)
- โ ูููููโฺฏุฑ ุชุตุงุฏู ุงุฒ IP ูุง
- โ Logging ูพุดุฑูุชู
- โ Worker supervisor ุจุง watchdog ุจุฑุง restart ุฎูุฏฺฉุงุฑ
- โ ุงูุฏุงุฒูโฺฏุฑ ุฒูุงู ุงุฌุฑุง

## ๐ง ูุตุจ ู ุฑุงูโุงูุฏุงุฒ

### ูพุดโูุงุฒูุง

- Python 3.8 ุง ุจุงูุงุชุฑ
- ุฏุณุชุฑุณ ุจู ุฏุณุชูุฑ `ping` ุฏุฑ ุณุณุชู
- ุณุณุชู ุนุงูู Linux/Unix (ุจุฑุง ping command)

### ูุตุจ

```bash
# ฺฉููู ูพุฑูฺู
git clone <repository-url>
cd IpScanner

# ูุตุจ ูุงุจุณุชฺฏโูุง (ุงฺฏุฑ ูุงุฒ ุจุงุดุฏ)
pip install -r requirements.txt
```

**ุชูุฌู**: ุงู ูพุฑูฺู ููุท ุงุฒ ฺฉุชุงุจุฎุงููโูุง ุงุณุชุงูุฏุงุฑุฏ Python ุงุณุชูุงุฏู ูโฺฉูุฏ ู ูุงุฒ ุจู ูุตุจ ูพฺฉุฌ ุฎุงุฑุฌ ูุฏุงุฑุฏ.

## ๐ ุงุณุชูุงุฏู

### ุงุฌุฑุง ุณุงุฏู

```bash
python runer.py
```

### ุงุฌุฑุง ุจุง ูพุงุฑุงูุชุฑูุง

```bash
# ุชูุธู ุชุนุฏุงุฏ workers
python runer.py --workers 50

# ุชูุธู concurrency ุฏุฑ ูุฑ worker
python runer.py --concurrency 20

# ุชูุธู ูุฑ ุฏู
python runer.py --workers 100 --concurrency 30
```

### ูพุงุฑุงูุชุฑูุง ููุฌูุฏ

| ูพุงุฑุงูุชุฑ | ูพุดโูุฑุถ | ุชูุถุญุงุช |
|---------|---------|---------|
| `--workers` | 100 | ุชุนุฏุงุฏ worker threads |
| `--concurrency` | 30 | ุชุนุฏุงุฏ task ูุง ููุฒูุงู ุฏุฑ ูุฑ worker |

## ๐ ุณุงุฎุชุงุฑ ูพุฑูฺู

```
IpScanner/
โโโ runer.py                # ููุทู ูุฑูุฏ ุงุตู ุจุฑูุงูู
โโโ ip4.txt                 # ูุงู ูุณุช IP ูุง
โโโ safePing.txt           # ุฎุฑูุฌ: IP ูุง ูุงุจู ุฏุณุชุฑุณ ุจุง ping
โโโ safeSocketConnect.txt  # ุฎุฑูุฌ: IP:Port ูุง ูุงุจู ุงุชุตุงู
โโโ app.log                # ูุงู ูุงฺฏ
โโโ worker/
    โโโ __init__.py        # ูุงฺูู worker
    โโโ engine.py          # WorkerSupervisor ู watchdog
    โโโ base_worker.py     # ฺฉูุงุณ ูพุงู BaseWorker
    โโโ task_handler.py    # ูพุงุฏูโุณุงุฒ AppTaskHandler
    โโโ createip.py        # ูพุงุฑุณ ู ูพุฑุฏุงุฒุด IP ูุง
    โโโ timer.py           # ฺฉูุงุณ Timer
    โโโ logger.py          # ุชูุธูุงุช logging
```

## ๐ ูุฑูุช ูุงู IP

ูุงู `ip4.txt` ูโุชูุงูุฏ ุดุงูู ุงู ูุฑูุชโูุง ุจุงุดุฏ:

```text
# CIDR notation
23.235.32.0/20
192.168.1.0/24
10.0.0.0/16

# IP Range
192.168.1.1-192.168.1.254
10.0.0.1-10.0.0.100

# Single IP
8.8.8.8
1.1.1.1
192.168.1.1
```

### ูููููโฺฏุฑ

ููฺฏุงู ุงุฌุฑุง ุจุฑูุงููุ ุงุฒ ุดูุง ุฏุฑุตุฏ IP ูุง ฺฉู ูโุฎูุงูุฏ ุชุณุช ฺฉูุฏ ูพุฑุณุฏู ูโุดูุฏ:

```
What percent of IPs to test? (0-100) [100]: 10
```

ุงู ุงูฺฉุงู ุจู ุดูุง ุงุฌุงุฒู ูโุฏูุฏ ฺฉู ุจุฑุง ุชุณุช ุณุฑุนุ ููุท ุจุฎุด ุงุฒ IP ูุง ุฑุง ุงุณฺฉู ฺฉูุฏ.

## ๐๏ธ ูุนูุงุฑ

### Worker Pool

ุจุฑูุงูู ุงุฒ ฺฉ ูุนูุงุฑ worker pool ุงุณุชูุงุฏู ูโฺฉูุฏ:

```
Main Thread
    โโโ WorkerSupervisor ร N
            โโโ BaseWorker
                    โโโ AsyncIO Event Loop
                            โโโ Consumer Tasks ร Concurrency
```

### ุฌุฑุงู ฺฉุงุฑ

1. **ุงุฌุงุฏ Workers**: ุชุนุฏุงุฏ ูุดุฎุต WorkerSupervisor ุงุฌุงุฏ ูโุดูุฏ
2. **Watchdog Monitor**: ฺฉ thread ุฌุฏุงฺฏุงูู workers ุฑุง ูุธุงุฑุช ูโฺฉูุฏ
3. **ุชูุฒุน ุชุณฺฉโูุง**: IP ูุง ุจู ุตูุฑุช round-robin ุจู workers ุชูุฒุน ูโุดููุฏ
4. **ูพุฑุฏุงุฒุด ููุฒูุงู**: ูุฑ worker ุชุง N ุชุณฺฉ ุฑุง ููุฒูุงู ูพุฑุฏุงุฒุด ูโฺฉูุฏ
5. **Graceful Shutdown**: ููุชุธุฑ ุงุชูุงู ููู ุชุณฺฉโูุง ูุจู ุงุฒ ุฎุฑูุฌ

### ฺฉุงููพูููุชโูุง

#### 1. BaseWorker (`worker/base_worker.py`)

ฺฉูุงุณ abstract ุจุฑุง ูพุงุฏูโุณุงุฒ worker ุจุง:
- ุตู ุชุณฺฉ (Queue)
- Semaphore ุจุฑุง ูุญุฏูุฏ ฺฉุฑุฏู concurrency
- Event loop ูุณุชูู asyncio
- ูุชุฏ abstract `handle()` ุจุฑุง ูพุงุฏูโุณุงุฒ

#### 2. AppTaskHandler (`worker/task_handler.py`)

ูพุงุฏูโุณุงุฒ ุงุตู worker ฺฉู:
- **Ping Test**: ุชุณุช ุฏุณุชุฑุณ IP ุจุง ุฏุณุชูุฑ ping
- **Socket Test**: ุชุณุช ูพูุฑุชโูุง 13, 22, 23, 80, 443, 3389
- ุฐุฎุฑู ูุชุงุฌ ุฏุฑ ูุงู
- ูุฑ ุฏู ุชุณุช ุจู ุตูุฑุช ููุฒูุงู ุงุฌุฑุง ูโุดููุฏ

#### 3. WorkerSupervisor (`worker/engine.py`)

ูุฏุฑุช lifecycle worker:
- ุดุฑูุน worker ุฏุฑ thread ุฌุฏุงฺฏุงูู
- ุจุฑุฑุณ ุฒูุฏู ุจูุฏู worker
- restart ุฎูุฏฺฉุงุฑ ุฏุฑ ุตูุฑุช crash

#### 4. Watchdog Monitor (`worker/engine.py`)

ฺฉ thread ูพุณโุฒููู ฺฉู:
- ูุฑ ุซุงูู workers ุฑุง ฺฺฉ ูโฺฉูุฏ
- worker ูุง crashed ุฑุง restart ูโฺฉูุฏ
- ุชุง ุฒูุงู ุฏุฑุงูุช signal ุชููู ุงุฏุงูู ูโุฏูุฏ

## ๐ค ุฎุฑูุฌ

### ูุงูโูุง ุฎุฑูุฌ

#### safePing.txt
ูุณุช IP ูุง ฺฉู ุจู ping ูพุงุณุฎ ุฏุงุฏูุฏ:
```
8.8.8.8
1.1.1.1
192.168.1.1
```

#### safeSocketConnect.txt
ูุณุช IP:Port ูุง ฺฉู ุงุชุตุงู ูููู ุจูุฏ:
```
192.168.1.1:22
192.168.1.1:80
8.8.8.8:443
```

#### app.log
ูุงฺฏ ฺฉุงูู ุงุฌุฑุง ุจุฑูุงูู ุจุง timestamps ู levels ูุฎุชูู.

### ุฎุฑูุฌ Console

```
2026-01-13 03:15:30 - worker.engine - INFO - [Supervisor] Worker-1 started
2026-01-13 03:15:30 - worker.engine - INFO - [Supervisor] Worker-2 started
...
2026-01-13 03:15:35 - worker.task_handler - INFO - Ip Is Available ping: 8.8.8.8
2026-01-13 03:15:36 - worker.task_handler - INFO - Ip Is Available Socket: 192.168.1.1:22
2026-01-13 03:15:37 - worker.task_handler - INFO - Task-8.8.8.8 completed in 1.23s
...
2026-01-13 03:25:45 - worker.logger - INFO - Finished. Total Time: 0 hours, 10 minutes, 15 seconds
```

## โ๏ธ ูพฺฉุฑุจูุฏ

### ุชูุธู ุชุนุฏุงุฏ Workers

ุชุนุฏุงุฏ ุจููู workers ุจุณุชฺฏ ุจู ููุงุจุน ุณุณุชู ุฏุงุฑุฏ:

```python
# CPU-bound tasks
workers = cpu_count * 2

# Network-bound tasks (ููุงุณุจ ุจุฑุง IP scanning)
workers = 50 - 200
```

### ุชูุธู Concurrency

ุชุนุฏุงุฏ task ูุง ููุฒูุงู ุฏุฑ ูุฑ worker:

```python
# ุจุฑุง ุดุจฺฉูโูุง ุณุฑุน
concurrency = 50

# ุจุฑุง ุดุจฺฉูโูุง ฺฉูุฏ ุง ูุญุฏูุฏุช ููุงุจุน
concurrency = 10-20
```

## ๐ ุนุจโุงุจ

### ูุดฺฉูุงุช ุฑุงุฌ

#### 1. Permission denied ุจุฑุง ping
```bash
# ุฑุงูโุญู: ุงุฌุฑุง ุจุง sudo
sudo python runer.py
```

#### 2. Too many open files
```bash
# ุงูุฒุงุด ูุญุฏูุฏุช file descriptors
ulimit -n 10000
```

#### 3. Worker crash ูโฺฉูุฏ
- Watchdog ุฎูุฏฺฉุงุฑ worker ุฑุง restart ูโฺฉูุฏ
- ูุงฺฏโูุง ุฑุง ุฏุฑ `app.log` ุจุฑุฑุณ ฺฉูุฏ

## ๐ Performance

### ุจูููโุณุงุฒ

1. **Workers**: ุชุนุฏุงุฏ ุฒุงุฏ worker ุจุฑุง network I/O ุจูุชุฑ ุงุณุช
2. **Concurrency**: 20-50 ุจุฑุง ุงฺฉุซุฑ ุดุจฺฉูโูุง ููุงุณุจ ุงุณุช
3. **Sampling**: ุจุฑุง ุชุณุช ุณุฑุน ุงุฒ ุฏุฑุตุฏ ฺฉูุชุฑ ุงุณุชูุงุฏู ฺฉูุฏ

### ูุตุฑู ููุงุจุน (ุชุฎูู)

- **RAM**: ~500MB (100 workers ร 30 concurrency)
- **CPU**: ูุชูุณุท (ุจุดุชุฑ I/O bound ุงุณุช)
- **Network**: ุจุณุชฺฏ ุจู ุชุนุฏุงุฏ IP ูุง

## ๐ ููุงุณู ุจุง ูุณุฎู Rust

ุงู ูพุฑูฺู ููฺูู ุจู Rust ุจุงุฒููุณ ุดุฏู ุงุณุช:

```bash
cd ip_scanner_rust
cargo run --release
```

**ูุฒุงุง ูุณุฎู Rust:**
- 2-5x ุณุฑุนุชุฑ
- 10x ฺฉูุชุฑ RAM ูุตุฑู ูโฺฉูุฏ
- Type safety ู compile-time checks
- Binary ูุณุชูู

**ูุฒุงุง ูุณุฎู Python:**
- ุชูุณุนู ุณุฑุนโุชุฑ
- ฺฉุฏ ุฎูุงูุงุชุฑ
- Debugging ุฑุงุญุชโุชุฑ

ุจุฑุง ุฌุฒุฆุงุช ุจุดุชุฑ: [ip_scanner_rust/COMPARISON.md](ip_scanner_rust/COMPARISON.md)

## ๐งช ุชุณุช

### ุชุณุช ุณุฑุน ุจุง IP ูุง ฺฉู

1. ูุงู ุชุณุช ุจุณุงุฒุฏ:
```bash
cat > test_ips.txt << EOF
8.8.8.8
1.1.1.1
192.168.1.1-192.168.1.10
EOF
```

2. ูุงู ุฑุง ูุฑุงุด ฺฉูุฏ:
```python
# ุฏุฑ createip.py ุฎุท ูุฑุจูุท ุจู IP_FILE ุฑุง ุชุบุฑ ุฏูุฏ
IP_FILE = PROJECT_ROOT / "test_ips.txt"
```

3. ุงุฌุฑุง ฺฉูุฏ:
```bash
python runer.py --workers 5 --concurrency 5
```

## ๐ ูุงุจุณุชฺฏโูุง

ุงู ูพุฑูฺู ููุท ุงุฒ ฺฉุชุงุจุฎุงููโูุง ุงุณุชุงูุฏุงุฑุฏ Python ุงุณุชูุงุฏู ูโฺฉูุฏ:

- `asyncio` - ุจุฑุง async/await
- `threading` - ุจุฑุง worker threads
- `queue` - ุจุฑุง task queue
- `socket` - ุจุฑุง ุชุณุช ุงุชุตุงู
- `ipaddress` - ุจุฑุง ูพุฑุฏุงุฒุด IP
- `logging` - ุจุฑุง logging
- `argparse` - ุจุฑุง CLI arguments

## ๐ค ูุดุงุฑฺฉุช

ุจุฑุง ูุดุงุฑฺฉุช ุฏุฑ ูพุฑูฺู:

1. Fork ฺฉูุฏ
2. ฺฉ branch ุฌุฏุฏ ุจุณุงุฒุฏ (`git checkout -b feature/amazing-feature`)
3. ุชุบุฑุงุช ุฑุง commit ฺฉูุฏ (`git commit -m 'Add amazing feature'`)
4. Push ฺฉูุฏ (`git push origin feature/amazing-feature`)
5. ฺฉ Pull Request ุจุงุฒ ฺฉูุฏ

## ๐ ูุงุณูุณ

[ูุงุณูุณ ุฑุง ุงูุฌุง ูุดุฎุต ฺฉูุฏ]

## ๐ค ููุณูุฏู

[ูุงู ููุณูุฏู]

## ๐ ุชุดฺฉุฑ

ุงู ูพุฑูฺู ุจุง โค๏ธ ุจุฑุง ุฌุงูุนู Open Source ุณุงุฎุชู ุดุฏู ุงุณุช.

---

**ูฺฉุชู**: ุจุฑุง ูุณุฎู ุจูููโุชุฑ ู ุณุฑุนโุชุฑุ ุงุฒ [ูุณุฎู Rust](ip_scanner_rust/) ุงุณุชูุงุฏู ฺฉูุฏ!
